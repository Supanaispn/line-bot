! function () {
    "use strict";
    var e = angular.module("ae-datetimepicker", []);
    e.directive("datetimepicker", ["$timeout", function (e) {
        return {
            restrict: "EA",
            require: "ngModel",
            scope: {
                options: "=?",
                onChange: "&?",
                onClick: "&?"
            },
            link: function (n, t, i, a) {
                var o = t.parent().hasClass("input-group") ? t.parent() : t;
                var _format = 'DD/MM/YYYY hh:mm';
                n.$watch("options", function (e) {
                    var n = o.data("DateTimePicker");
                    try {
                        if(e==null){
                            e ={ format: 'DD/MM/YYYY hh:mm' };
                        }
                        $.map(e, function (e, t) {
                            _format = e;
                            n[t](e)
                        })
                    } catch (err) {
                       console.log(e);
                       console.log(t);
                       console.log(n);
                       console.log(err);
                    }

                }, !0), a.$render = function () {
                    a.$viewValue ? moment.isMoment(a.$viewValue) || a.$setViewValue(moment(a.$viewValue)) : a.$setViewValue(null), o.data("DateTimePicker").date(a.$viewValue)
                };
                var u = function (e, n) {
                    return moment.isMoment(e) && moment.isMoment(n) && e.valueOf() === n.valueOf()
                };
                o.on("dp.change", function (t) {
                    if (!u(t.date, a.$viewValue)) {
                        var i = t.date === !1 ? null : t.date.tz('Asia/Bangkok');
                        a.$setViewValue(i), e(function () {
                            "function" == typeof n.onChange && n.onChange()
                        })
                    }
                }), o.on("click", function () {
                    e(function () {
                        "function" == typeof n.onClick && n.onClick()
                    })
                }), o.datetimepicker(n.options)
            }
        }
    }])
}();